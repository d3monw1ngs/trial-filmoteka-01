{"mappings":"YAAA,IACMA,EAAU,2CACVC,EAAUC,uEAAwDF,EAClEG,EAAU,kCAgBVC,EAAOC,SAASC,uBAAuB,gBACvCC,EAAOF,SAASG,eAAe,eAC/BC,EAASJ,SAASG,eAAe,gBAIjCE,GAHYL,SAASG,eAAe,WAG7BH,SAASG,eAAe,SAC/BG,EAAON,SAASG,eAAe,QAC/BI,EAAUP,SAASG,eAAe,WAEpCK,EAAc,EAIdC,EAAa,IAKjB,SAASC,EAAUC,GACLA,EAEVC,MAAMD,GACDE,MAAK,SAAAC,G,OAAOA,EAAIC,M,IAChBF,MAAK,SAAAG,GACFC,QAAQC,IAAIF,EAAKG,SACU,IAAxBH,EAAKG,QAAQC,SA0B5B,SAAoBJ,GAChBjB,EAAKsB,UAAY,GAEjBL,EAAKM,SAAQ,SAAAC,GACT,IAAQC,EAA2DD,EAA3DC,MAAOC,EAAoDF,EAApDE,YAAaC,EAAuCH,EAAvCG,qBAAsBC,EAAiBJ,EAAjBI,aAC5CC,EAAU5B,SAAS6B,cAAc,OACvCD,EAAQE,UAAUC,IAAI,SACtBH,EAAQP,UAAY,2BAELW,OADCP,EAAa3B,EAAQ2B,EAAa,wCAAwC,4BAI5EO,OAHCR,EAAM,iFAIEQ,OADTR,EAAM,wCAC4BQ,OAAzBN,EAAqB,MACrBM,OADyBN,EAAqB,0CAC7BM,OAAjBL,EAAa,MAAiBK,OAAbL,EAAa,gD,IAvC7CM,CAAWjB,EAAKG,SAChBX,EAAcQ,EAAKkB,KACR1B,EAAc,EACdA,EAAc,EACzBC,EAAaO,EAAKmB,YAElB5B,EAAQ6B,UAAY5B,EACjBA,GAAe,GACdH,EAAKyB,UAAUC,IAAI,YACnBzB,EAAKwB,UAAUO,OAAO,aAChB7B,GAAeC,GACrBJ,EAAKyB,UAAUO,OAAO,YACtB/B,EAAKwB,UAAUC,IAAI,cAEnB1B,EAAKyB,UAAUO,OAAO,YACtB/B,EAAKwB,UAAUO,OAAO,cAI1BtC,EAAKsB,UAAa,8C,IA9BlCX,EAAUd,GAyDVM,EAAKoC,iBAAiB,UAAU,SAACC,GAC7BA,EAAEC,iBAEF,IAAMC,EAAarC,EAAOsC,aAGtBhC,EADD+B,EACWE,4FAAoBF,EAEpB7C,E","sources":["src/js/script.js"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'api_key=b5e824a3d922f68ba211fcf6dbdcb6f5';\nconst API_URL = BASE_URL + '/discover/movie?sort_by-popularity.desc&' + API_KEY;\nconst IMG_URL = 'https://image.tmdb.org/t/p/w500';\nconst searchURL = BASE_URL + '/search/movie?'+API_KEY;\n\nconst options = {\n    params: {\n        key: API_KEY,\n        query: \"\",\n        include_adult: false,\n        language: \"en-US\",\n        primary_release_year: \"\",\n        page: 1,\n        region: \"\",\n        year: \"\", \n    }\n}\n\nconst main = document.getElementsByClassName('main-content');\nconst form = document.getElementById('search-form');\nconst search = document.getElementById('search-input');\nconst galleryEl = document.getElementById('gallery');\n\n// PAGINATION\nconst prev = document.getElementById('prev');\nconst next = document.getElementById('next');\nconst current = document.getElementById('current');\n\nvar currentPage = 1;\nvar nextPage = 2;\nvar prevPage = 3;\nvar lastUrl = '';\nvar totalPages = 100;\n\ngetMovies(API_URL);\n\n// DISPLAY MOVIE CARDS\nfunction getMovies(url) {\n    lastUrl = url;\n\n    fetch(url)\n        .then(res => res.json())\n        .then(data => {\n            console.log(data.results)\n            if(data.results.length !== 0){\n                showMovies(data.results);\n                currentPage = data.page;\n                nextPage = currentPage + 1;\n                prevPage = currentPage - 1;\n                totalPages = data.total_pages;\n\n                current.innerText = currentPage;\n                if(currentPage <= 1){\n                    prev.classList.add('disabled');\n                    next.classList.remove('disabled');\n                } else if(currentPage >= totalPages){\n                    prev.classList.remove('disabled');\n                    next.classList.add('disabled');\n                } else {\n                    prev.classList.remove('disabled');\n                    next.classList.remove('disabled');\n                }\n\n            } else {\n                main.innerHTML = `<h1 class=\"no-results\">No Results Found</h1>`\n            }\n\n    })\n}\n\nfunction showMovies(data) {\n    main.innerHTML = '';\n\n    data.forEach(movie => {\n        const { title, poster_path, primary_release_year, vote_average } = movie;\n        const movieEl = document.createElement('div');\n        movieEl.classList.add('movie');\n        movieEl.innerHTML = `\n            <img src=\"${poster_path? IMG_URL+poster_path: \"http:/>/via.placeholder.com/1080x1500\"}\"\n                alt=\"${title}\"/>\n            \n            <div class=\"movie-info\">\n                <h3>${title}</h3>\n                <span class=\"${primary_release_year}\">${primary_release_year}</span>\n                <span class=\"${vote_average}\">${vote_average}</span>\n            </div>        \n        `\n        \n    })\n}\n\nform.addEventListener('submit', (e) => {\n    e.preventDefault();\n\n    const searchTerm = search.ariaValueMax;\n    \n    if(searchTerm) {\n        getMovies(searchURL+'&query='+searchTerm)\n    }else{\n        getMovies(API_URL);\n    }\n})\n\n\n"],"names":["$66b821ea461d9f2a$var$API_KEY","$66b821ea461d9f2a$var$API_URL","$66b821ea461d9f2a$var$BASE_URL","$66b821ea461d9f2a$var$IMG_URL","$66b821ea461d9f2a$var$main","document","getElementsByClassName","$66b821ea461d9f2a$var$form","getElementById","$66b821ea461d9f2a$var$search","$66b821ea461d9f2a$var$prev","$66b821ea461d9f2a$var$next","$66b821ea461d9f2a$var$current","$66b821ea461d9f2a$var$currentPage","$66b821ea461d9f2a$var$totalPages","$66b821ea461d9f2a$var$getMovies","url","fetch","then","res","json","data","console","log","results","length","innerHTML","forEach","movie","title","poster_path","primary_release_year","vote_average","movieEl","createElement","classList","add","concat","$66b821ea461d9f2a$var$showMovies","page","total_pages","innerText","remove","addEventListener","e","preventDefault","searchTerm","ariaValueMax","$66b821ea461d9f2a$var$searchURL"],"version":3,"file":"index.912433b1.js.map"}