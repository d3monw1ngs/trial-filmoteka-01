!function(){var e,t="api_key=b5e824a3d922f68ba211fcf6dbdcb6f5",n="https://api.themoviedb.org/3/discover/movie?sort_by-popularity.desc&"+t,o="https://image.tmdb.org/t/p/w500",a=document.getElementById("myModal"),i=document.getElementById("modal-poster"),s=document.getElementById("modal-title"),c=document.getElementById("modal-vote"),d=document.getElementById("modal-popularity"),r=document.getElementById("modal-original-title"),l=document.getElementById("modal-genre"),m=document.getElementById("modal-overview"),u=(document.getElementById("addToWatchedBtn"),document.getElementById("addToQueuBtn"),document.getElementsByClassName("close")[0]);function g(){a.style.display="none"}fetch("https://api.themoviedb.org/3/genre/movie/list?"+t).then((function(e){return e.json()})).then((function(t){e=t.genres,M(n)})).catch((function(e){console.error("Error fetching genres:",e)})),u.addEventListener("click",g),window.addEventListener("click",(function(e){e.target===a&&g()}));var v=document.getElementById("main"),p=document.getElementById("search-form"),f=document.getElementById("search-input"),h=(document.getElementById("gallery"),document.querySelector(".loader-container")),y=document.getElementById("prev"),E=document.getElementById("next"),L=document.getElementById("current"),b=1,B=2,I=3,_="",T=100;function M(t){_=t,fetch(t).then((function(e){return e.json()})).then((function(t){console.log(t),0!==t.results.length?(!function(t){v.innerHTML="",t.forEach((function(t){var n=t.title,u=t.poster_path,g=t.release_date,p=t.genre_ids,f=t.vote_average,h=document.createElement("div");h.classList.add("movie");var y=Array.isArray(e)?null==p?void 0:p.map((function(t){var n=e.find((function(e){return e.id===t}));return n?n.name:""})).join(", "):"",E=g?new Date(g).getFullYear():"";h.innerHTML='\n          <img src="'.concat(u?o+u:"http://via.placeholder.com/1080x1500",'" alt="').concat(n,'"/>\n          \n          <div class="movie-info">\n              <h3>').concat(n,'</h3>\n          </div>\n          <div class="genredate">').concat(y," | ").concat(E,'</div>\n          <span id="vote_average" class="').concat(f,'">').concat(f,"</span>\n      "),h.addEventListener("click",(function(){!function(t){console.log("Movie data:",t),i.src="https://image.tmdb.org/t/p/w500/".concat(t.poster_path),s.textContent=t.title,c.innerHTML='Vote / Votes: <span class="vot">'.concat(t.vote_average,"</span> / ").concat(t.vote_count),d.innerHTML='Popularity: <span class="pop">'.concat(t.popularity,"</span>"),r.innerHTML='Title: <span class="titl">'.concat(t.original_title,"</span>");var n=t.genre_ids&&Array.isArray(e)?t.genre_ids.map((function(t){var n=e.find((function(e){return e.id===t}));return n?n.name:""})).join(", "):"";l.innerHTML='Genre: <span class="movgen">'.concat(n,"</span>"),m.textContent=t.overview,a.style.display="block"}(t)})),v.appendChild(h)}))}(t.results),b=t.page,B=b+1,I=b-1,T=t.total_pages,L.innerText=b,b<=1?(y.classList.add("disabled"),E.classList.remove("disabled")):b>=T?(y.classList.remove("disabled"),E.classList.add("disabled")):(y.classList.remove("disabled"),E.classList.remove("disabled"))):(v.classList.toggle("is-hidden"),h.classList.toggle("is-hidden"),v.innerHTML='<h1 class="no-results">No Results Found</h1>')})).catch((function(e){console.error("Error fetching movies:",e),v.classList.toggle("is-hidden"),h.classList.toggle("is-hidden"),v.innerHTML='<h1 class="no-results">Error fetching movies</h1>'}))}function k(e){var t=_.split("?"),n=t[1].split("&"),o=n[n.length-1].split("=");if("page"!=o[0]){M(_+"&page="+e)}else{o[1]=e.toString();var a=o.join("=");n[n.length-1]=a;var i=n.join("&");M(t[0]+"?"+i)}}localStorage.setItem("movie-queue",JSON.stringify([])),M(n),p.addEventListener("submit",(function(e){e.preventDefault();var t=f.value;M(t?"https://api.themoviedb.org/3/search/movie?api_key=b5e824a3d922f68ba211fcf6dbdcb6f5&query="+t:n)})),y.addEventListener("click",(function(){I>0&&k(I)})),E.addEventListener("click",(function(){B<=T&&k(B)}))}();
//# sourceMappingURL=library.93fb115b.js.map
