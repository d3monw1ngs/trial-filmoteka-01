const e="https://api.themoviedb.org/3/discover/movie?sort_by-popularity.desc&api_key=b5e824a3d922f68ba211fcf6dbdcb6f5",t=document.getElementById("myModal"),n=document.getElementById("modal-poster"),s=document.getElementById("modal-title"),o=document.getElementById("modal-vote"),i=document.getElementById("modal-popularity"),a=document.getElementById("modal-original-title"),d=document.getElementById("modal-genre"),l=document.getElementById("modal-overview"),r=(document.getElementById("addToWatchedBtn"),document.getElementById("addToQueuBtn"),document.getElementsByClassName("close")[0]);let c;function m(){t.style.display="none"}fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=b5e824a3d922f68ba211fcf6dbdcb6f5").then((e=>e.json())).then((t=>{c=t.genres,_(e)})).catch((e=>{console.error("Error fetching genres:",e)})),r.addEventListener("click",m),window.addEventListener("click",(function(e){e.target===t&&m()}));const g=document.getElementById("main"),p=document.getElementById("search-form"),u=document.getElementById("search-input"),v=(document.getElementById("gallery"),document.querySelector(".loader-container")),h=document.getElementById("prev"),y=document.getElementById("next"),f=document.getElementById("current");var E=1,b=2,L=3,B="",I=100;function _(e){B=e,fetch(e).then((e=>e.json())).then((e=>{console.log(e),0!==e.results.length?(!function(e){g.innerHTML="",e.forEach((e=>{const{title:r,poster_path:m,release_date:p,genre_ids:u,vote_average:v}=e,h=document.createElement("div");h.classList.add("movie");const y=Array.isArray(c)?null==u?void 0:u.map((e=>{const t=c.find((t=>t.id===e));return t?t.name:""})).join(", "):"",f=p?new Date(p).getFullYear():"";h.innerHTML=`\n          <img src="${m?"https://image.tmdb.org/t/p/w500"+m:"http://via.placeholder.com/1080x1500"}" alt="${r}"/>\n          \n          <div class="movie-info">\n              <h3>${r}</h3>\n          </div>\n          <div class="genredate">${y} | ${f}</div>\n          <span id="vote_average" class="${v}">${v}</span>\n      `,h.addEventListener("click",(function(){!function(e){console.log("Movie data:",e),n.src=`https://image.tmdb.org/t/p/w500/${e.poster_path}`,s.textContent=e.title,o.innerHTML=`Vote / Votes: <span class="vot">${e.vote_average}</span> / ${e.vote_count}`,i.innerHTML=`Popularity: <span class="pop">${e.popularity}</span>`,a.innerHTML=`Title: <span class="titl">${e.original_title}</span>`;const r=e.genre_ids&&Array.isArray(c)?e.genre_ids.map((e=>{const t=c.find((t=>t.id===e));return t?t.name:""})).join(", "):"";d.innerHTML=`Genre: <span class="movgen">${r}</span>`,l.textContent=e.overview,t.style.display="block"}(e)})),g.appendChild(h)}))}(e.results),E=e.page,b=E+1,L=E-1,I=e.total_pages,f.innerText=E,E<=1?(h.classList.add("disabled"),y.classList.remove("disabled")):E>=I?(h.classList.remove("disabled"),y.classList.add("disabled")):(h.classList.remove("disabled"),y.classList.remove("disabled"))):(g.classList.toggle("is-hidden"),v.classList.toggle("is-hidden"),g.innerHTML='<h1 class="no-results">No Results Found</h1>')})).catch((e=>{console.error("Error fetching movies:",e),g.classList.toggle("is-hidden"),v.classList.toggle("is-hidden"),g.innerHTML='<h1 class="no-results">Error fetching movies</h1>'}))}function $(e){let t=B.split("?"),n=t[1].split("&"),s=n[n.length-1].split("=");if("page"!=s[0]){_(B+"&page="+e)}else{s[1]=e.toString();let o=s.join("=");n[n.length-1]=o;let i=n.join("&");_(t[0]+"?"+i)}}localStorage.setItem("movie-queue",JSON.stringify([])),_(e),p.addEventListener("submit",(t=>{t.preventDefault();const n=u.value;_(n?"https://api.themoviedb.org/3/search/movie?api_key=b5e824a3d922f68ba211fcf6dbdcb6f5&query="+n:e)})),h.addEventListener("click",(()=>{L>0&&$(L)})),y.addEventListener("click",(()=>{b<=I&&$(b)}));
//# sourceMappingURL=library.57a701cc.js.map
