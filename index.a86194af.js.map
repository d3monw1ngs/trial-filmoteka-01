{"mappings":"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","sources":["src/js/script.js"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'api_key=b5e824a3d922f68ba211fcf6dbdcb6f5';\nconst API_URL = BASE_URL + '/discover/movie?sort_by-popularity.desc&' + API_KEY;\nconst IMG_URL = 'https://image.tmdb.org/t/p/w500';\nconst searchURL = BASE_URL + '/search/movie?'+API_KEY;\n\nconst options = {\n    params: {\n        key: API_KEY,\n        query: \"\",\n        include_adult: false,\n        language: \"en-US\",\n        primary_release_year: \"\",\n        page: 1,\n        region: \"\",\n        year: \"\", \n    }\n}\n\nconst genre = [\n    {\n      \"id\": 28,\n      \"name\": \"Action\"\n    },\n    {\n      \"id\": 12,\n      \"name\": \"Adventure\"\n    },\n    {\n      \"id\": 16,\n      \"name\": \"Animation\"\n    },\n    {\n      \"id\": 35,\n      \"name\": \"Comedy\"\n    },\n    {\n      \"id\": 80,\n      \"name\": \"Crime\"\n    },\n    {\n      \"id\": 99,\n      \"name\": \"Documentary\"\n    },\n    {\n      \"id\": 18,\n      \"name\": \"Drama\"\n    },\n    {\n      \"id\": 10751,\n      \"name\": \"Family\"\n    },\n    {\n      \"id\": 14,\n      \"name\": \"Fantasy\"\n    },\n    {\n      \"id\": 36,\n      \"name\": \"History\"\n    },\n    {\n      \"id\": 27,\n      \"name\": \"Horror\"\n    },\n    {\n      \"id\": 10402,\n      \"name\": \"Music\"\n    },\n    {\n      \"id\": 9648,\n      \"name\": \"Mystery\"\n    },\n    {\n      \"id\": 10749,\n      \"name\": \"Romance\"\n    },\n    {\n      \"id\": 878,\n      \"name\": \"Science Fiction\"\n    },\n    {\n      \"id\": 10770,\n      \"name\": \"TV Movie\"\n    },\n    {\n      \"id\": 53,\n      \"name\": \"Thriller\"\n    },\n    {\n      \"id\": 10752,\n      \"name\": \"War\"\n    },\n    {\n      \"id\": 37,\n      \"name\": \"Western\"\n    }\n  ]\n\n// MODAL PART\nconst modal = document.getElementById('myModal');\nconst modalPoster = document.getElementById('modal-poster');\nconst modalTitle = document.getElementById('modal-title');\nconst modalVote = document.getElementById('modal-vote');\nconst modalPopularity = document.getElementById('modal-popularity');\nconst modalOrigTitle = document.getElementById('modal-original-title');\nconst modalGenre = document.getElementById('modal-genre');\nconst modalOverview = document.getElementById('modal-overview');\nconst addToWatchedBtn = document.getElementById('addToWatchedBtn');\nconst addToQueuBtn = document.getElementById('addToQueuBtn');\nconst closeBtn = document.getElementsByClassName('close')[0];\n\n// function to open the modal with movie details\nfunction openModal(movie) {\n    modalPoster.src = `https://image.tmdb.org/t/p/w500/${movie.poster_path}`;\n    modalTitle.textContent = movie.title;\n    modalVote.textContent = movie.vote_average+' / '+movie.vote_count;\n    modalPopularity.textContent = movie.popularity;\n    modalOrigTitle.textContent = movie.original_title;\n    modalGenre.textContent = movie.genre;\n    modalOverview.textContent = movie.overview;\n    modal.style.display = \"block\";\n}\n\n// function to close the modal\nfunction closeModal() {\n    modal.style.display = \"none\";\n}\n\n// event listener for the close button\ncloseBtn.addEventListener('click', closeModal);\n\n// event listener for clicks outside the modal\nwindow.addEventListener('click', function(event) {\n    if(event.target === modal) {\n        closeModal();\n    }\n});\n\nconst main = document.getElementById('main');\nconst form = document.getElementById('search-form');\nconst search = document.getElementById('search-input');\nconst galleryEl = document.getElementById('gallery');\n\n// PAGINATION\nconst prev = document.getElementById('prev');\nconst next = document.getElementById('next');\nconst current = document.getElementById('current');\n\nvar currentPage = 1;\nvar nextPage = 2;\nvar prevPage = 3;\nvar lastUrl = '';\nvar totalPages = 100;\n\ngetMovies(API_URL);\n\n// DISPLAY MOVIE CARDS\nfunction getMovies(url) {\n    lastUrl = url;\n\n    fetch(url)\n        .then(res => res.json())\n        .then(data => {\n            console.log(data.results)\n            if(data.results.length !== 0){\n                showMovies(data.results);\n                currentPage = data.page;\n                nextPage = currentPage + 1;\n                prevPage = currentPage - 1;\n                totalPages = data.total_pages;\n\n                current.innerText = currentPage;\n                if(currentPage <= 1){\n                    prev.classList.add('disabled');\n                    next.classList.remove('disabled');\n                } else if(currentPage >= totalPages){\n                    prev.classList.remove('disabled');\n                    next.classList.add('disabled');\n                } else {\n                    prev.classList.remove('disabled');\n                    next.classList.remove('disabled');\n                }\n\n            } else {\n                main.innerHTML = `<h1 class=\"no-results\">No Results Found</h1>`\n            }\n\n    })\n}\n\nfunction showMovies(data) {\n    main.innerHTML = '';\n\n    data.forEach(movie => {\n        const { title, poster_path, release_date, vote_average } = movie;\n        const movieEl = document.createElement('div');\n        movieEl.classList.add('movie');\n\n        // const movieGenres = genre_ids && Array.isArray(genres)\n        // ? genre_ids.map(genreId => {\n        //   const genre = genres.find(genre => genre.id === genreId);\n        //   return genre ? genre.name : '';\n        // }).join(', ')\n        // : '';\n        \n        movieEl.innerHTML = `\n            <img src=\"${poster_path? IMG_URL+poster_path: \"http:/>/via.placeholder.com/1080x1500\"}\"\n                alt=\"${title}\"/>\n            \n            <div class=\"movie-info\">\n                <h3>${title}</h3>\n                // <div class=\"genres\">${movieGenres}</div>\n                <div class=\"movie-details\">\n                    <span id=\"release_date\" class=\"${release_date}\">${release_date}</span>\n                    <span id=\"vote_average\" class=\"${vote_average}\">${vote_average}</span>\n                </div>\n            </div>        \n        `\n        movieEl.addEventListener('click', function() { openModal(movie) });\n        main.appendChild(movieEl);\n    })\n}\n\nform.addEventListener('submit', (e) => {\n    e.preventDefault();\n\n    const searchTerm = search.value;\n    \n    if(searchTerm) {\n        getMovies(searchURL+'&query='+searchTerm)\n    }else{\n        getMovies(API_URL);\n    }\n})\n\n// function for previous page\nprev.addEventListener('click', () => {\n    if(prevPage > 0) {\n        pageCall(prevPage);\n    }\n})\n\n// function for the next page\nnext.addEventListener('click', () => {\n    if(nextPage <= totalPages) {\n        pageCall(nextPage);\n    }\n})\n\nfunction pageCall(page) {\n    let urlSplit = lastUrl.split('?');\n    let queryParams = urlSplit[1].split('&');\n    let key = queryParams[queryParams.length - 1].split('=');\n    if(key[0] != 'page') {\n        let url = lastUrl + '&page=' + page;\n        getMovies(url);\n    }else{\n        key[1] = page.toString();\n        let a = key.join('=');\n        queryParams[queryParams.length - 1] = a;\n        let b = queryParams.join('&');\n        let url = urlSplit[0] +'?'+ b;\n        getMovies(url);\n    }\n}\n\n\n"],"names":["$1ee2b6306238ec66$var$API_URL","$1ee2b6306238ec66$var$BASE_URL","$1ee2b6306238ec66$var$modal","document","getElementById","$1ee2b6306238ec66$var$modalPoster","$1ee2b6306238ec66$var$modalTitle","$1ee2b6306238ec66$var$modalVote","$1ee2b6306238ec66$var$modalPopularity","$1ee2b6306238ec66$var$modalOrigTitle","$1ee2b6306238ec66$var$modalGenre","$1ee2b6306238ec66$var$modalOverview","$1ee2b6306238ec66$var$closeModal","style","display","getElementsByClassName","addEventListener","window","event","target","$1ee2b6306238ec66$var$main","$1ee2b6306238ec66$var$form","$1ee2b6306238ec66$var$search","$1ee2b6306238ec66$var$prev","$1ee2b6306238ec66$var$next","$1ee2b6306238ec66$var$current","$1ee2b6306238ec66$var$currentPage","$1ee2b6306238ec66$var$nextPage","$1ee2b6306238ec66$var$prevPage","$1ee2b6306238ec66$var$lastUrl","$1ee2b6306238ec66$var$totalPages","$1ee2b6306238ec66$var$getMovies","url","fetch","then","res","json","data","console","log","results","length","innerHTML","forEach","movie","title","poster_path","release_date","vote_average","movieEl","createElement","classList","add","movieGenres","src","textContent","vote_count","popularity","original_title","genre","overview","$1ee2b6306238ec66$var$openModal","appendChild","$1ee2b6306238ec66$var$showMovies","page","total_pages","innerText","remove","$1ee2b6306238ec66$var$pageCall","urlSplit","split","queryParams","key","toString","a","join","b","e","preventDefault","searchTerm","value","$1ee2b6306238ec66$var$searchURL"],"version":3,"file":"index.a86194af.js.map"}